<!DOCTYPE html>
<meta charset="utf-8">

<link href="../src/nv.d3.css" rel="stylesheet" type="text/css">
<link href="teststyle.css" rel="stylesheet" type='text/css'>
<body>
<!--   <h3>iPhone5S Twitter Frequency - September 2013</h3> -->
<!--   <div class='navigation'>
      Tests:
      <a href="stackedAreaChartTest.html">iPhone5</a>
      <a href="lineChartTest.html">Phone2</a>
      <a href="../examples/cumulativeLineChart.html">Phone3</a>
  </div> -->
  <div class='chart full' id='chart1'>iPhone5S Twit Frequency reprensentated by Stacked Area Chart<svg></svg></div>
<!-- <div class='chart half with-transitions' id='chart2'>Chart with old tooltips (with-transitions)<button>Select chart</button><svg></svg></div>
<div class='chart half' id='chart5'>Chart with 'holes'<button>Select chart</button><svg></svg></div> -->


<script src="../lib/d3.v3.js"></script>
<script src="../nv.d3.js"></script>
<script src="../src/utils.js"></script>
<script src="../src/models/axis.js"></script>
<script src="../src/tooltip.js"></script>
<script src="../src/interactiveLayer.js"></script>
<script src="../src/models/legend.js"></script>
<script src="../src/models/axis.js"></script>
<script src="../src/models/scatter.js"></script>
<script src="../src/models/stackedArea.js"></script>
<script src="../src/models/stackedAreaChart.js"></script>
<script src="testScript.js"></script>
<script>

var histcatexplong = [{"values": [[1377990000000, 1], [1378076400000, 3], [1378162800000, 0], [1378249200000, 0], [1378335600000, 2], [1378422000000, 2], [1378508400000, 0], [1378594800000, 1], [1378681200000, 3], [1378767600000, 141], [1378854000000, 40], [1378940400000, 2], [1379026800000, 6], [1379113200000, 7], [1379199600000, 3], [1379286000000, 4], [1379372400000, 3], [1379458800000, 4], [1379545200000, 10], [1379631600000, 21], [1379718000000, 25], [1379804400000, 15], [1379890800000, 12], [1379977200000, 13], [1380063600000, 19], [1380150000000, 7], [1380236400000, 6], [1380322800000, 8], [1380409200000, 2], [1380495600000, 11]], "key": "battery"},{"values": [[1377990000000, 1], [1378076400000, 0], [1378162800000, 0], [1378249200000, 2], [1378335600000, 2], [1378422000000, 2], [1378508400000, 0], [1378594800000, 1], [1378681200000, 3], [1378767600000, 256], [1378854000000, 67], [1378940400000, 10], [1379026800000, 13], [1379113200000, 10], [1379199600000, 13], [1379286000000, 4], [1379372400000, 11], [1379458800000, 15], [1379545200000, 15], [1379631600000, 38], [1379718000000, 30], [1379804400000, 12], [1379890800000, 10], [1379977200000, 18], [1380063600000, 18], [1380150000000, 13], [1380236400000, 8], [1380322800000, 9], [1380409200000, 1], [1380495600000, 7]], "key": "camera"},{"values": [[1377990000000, 1], [1378076400000, 0], [1378162800000, 0], [1378249200000, 0], [1378335600000, 0], [1378422000000, 2], [1378508400000, 0], [1378594800000, 0], [1378681200000, 1], [1378767600000, 4], [1378854000000, 1], [1378940400000, 2], [1379026800000, 0], [1379113200000, 2], [1379199600000, 0], [1379286000000, 0], [1379372400000, 1], [1379458800000, 1], [1379545200000, 0], [1379631600000, 0], [1379718000000, 1], [1379804400000, 2], [1379890800000, 5], [1379977200000, 2], [1380063600000, 1], [1380150000000, 1], [1380236400000, 0], [1380322800000, 1], [1380409200000, 2], [1380495600000, 0]], "key": "charger"},{"values": [[1377990000000, 0], [1378076400000, 0], [1378162800000, 0], [1378249200000, 0], [1378335600000, 5], [1378422000000, 2], [1378508400000, 1], [1378594800000, 2], [1378681200000, 0], [1378767600000, 27], [1378854000000, 33], [1378940400000, 2], [1379026800000, 3], [1379113200000, 1], [1379199600000, 0], [1379286000000, 1], [1379372400000, 1], [1379458800000, 4], [1379545200000, 3], [1379631600000, 18], [1379718000000, 6], [1379804400000, 6], [1379890800000, 2], [1379977200000, 2], [1380063600000, 3], [1380150000000, 3], [1380236400000, 0], [1380322800000, 1], [1380409200000, 1], [1380495600000, 1]], "key": "colour"},{"values": [[1377990000000, 0], [1378076400000, 0], [1378162800000, 0], [1378249200000, 2], [1378335600000, 12], [1378422000000, 12], [1378508400000, 1], [1378594800000, 6], [1378681200000, 8], [1378767600000, 706], [1378854000000, 403], [1378940400000, 86], [1379026800000, 43], [1379113200000, 22], [1379199600000, 115], [1379286000000, 62], [1379372400000, 52], [1379458800000, 50], [1379545200000, 77], [1379631600000, 198], [1379718000000, 119], [1379804400000, 55], [1379890800000, 150], [1379977200000, 116], [1380063600000, 59], [1380150000000, 38], [1380236400000, 16], [1380322800000, 19], [1380409200000, 8], [1380495600000, 8]], "key": "fingerprint"},{"values": [[1377990000000, 3], [1378076400000, 6], [1378162800000, 0], [1378249200000, 4], [1378335600000, 8], [1378422000000, 3], [1378508400000, 1], [1378594800000, 3], [1378681200000, 7], [1378767600000, 95], [1378854000000, 61], [1378940400000, 6], [1379026800000, 4], [1379113200000, 4], [1379199600000, 10], [1379286000000, 12], [1379372400000, 27], [1379458800000, 139], [1379545200000, 133], [1379631600000, 82], [1379718000000, 62], [1379804400000, 35], [1379890800000, 18], [1379977200000, 21], [1380063600000, 19], [1380150000000, 15], [1380236400000, 3], [1380322800000, 13], [1380409200000, 6], [1380495600000, 6]], "key": "ios7"},{"values": [[1377990000000, 0], [1378076400000, 1], [1378162800000, 0], [1378249200000, 0], [1378335600000, 0], [1378422000000, 4], [1378508400000, 0], [1378594800000, 0], [1378681200000, 0], [1378767600000, 50], [1378854000000, 35], [1378940400000, 3], [1379026800000, 0], [1379113200000, 2], [1379199600000, 2], [1379286000000, 3], [1379372400000, 5], [1379458800000, 13], [1379545200000, 13], [1379631600000, 45], [1379718000000, 19], [1379804400000, 10], [1379890800000, 14], [1379977200000, 17], [1380063600000, 33], [1380150000000, 20], [1380236400000, 9], [1380322800000, 16], [1380409200000, 6], [1380495600000, 147]], "key": "screen"},{"values": [[1377990000000, 0], [1378076400000, 0], [1378162800000, 0], [1378249200000, 0], [1378335600000, 0], [1378422000000, 0], [1378508400000, 0], [1378594800000, 0], [1378681200000, 0], [1378767600000, 0], [1378854000000, 0], [1378940400000, 0], [1379026800000, 1], [1379113200000, 0], [1379199600000, 1], [1379286000000, 0], [1379372400000, 1], [1379458800000, 0], [1379545200000, 1], [1379631600000, 0], [1379718000000, 3], [1379804400000, 0], [1379890800000, 0], [1379977200000, 1], [1380063600000, 0], [1380150000000, 0], [1380236400000, 0], [1380322800000, 0], [1380409200000, 0], [1380495600000, 1]], "key": "signal"},{"values": [[1377990000000, 0], [1378076400000, 0], [1378162800000, 0], [1378249200000, 0], [1378335600000, 0], [1378422000000, 0], [1378508400000, 0], [1378594800000, 0], [1378681200000, 1], [1378767600000, 0], [1378854000000, 1], [1378940400000, 0], [1379026800000, 0], [1379113200000, 0], [1379199600000, 0], [1379286000000, 0], [1379372400000, 0], [1379458800000, 1], [1379545200000, 2], [1379631600000, 0], [1379718000000, 0], [1379804400000, 0], [1379890800000, 0], [1379977200000, 0], [1380063600000, 0], [1380150000000, 0], [1380236400000, 0], [1380322800000, 0], [1380409200000, 0], [1380495600000, 0]], "key": "speaker"},];
// var histcatexplong = [{"values": [[1377990000000, 0.43000000000000005], [1378076400000, 1.2840000000000003], [1378162800000, 0.0], [1378249200000, 0.0], [1378335600000, 0.8440000000000001], [1378422000000, 0.8420000000000001], [1378508400000, 0.0], [1378594800000, 0.42100000000000004], [1378681200000, 1.2570000000000001], [1378767600000, 57.669000000000004], [1378854000000, 17.040000000000003], [1378940400000, 0.8720000000000001], [1379026800000, 2.6160000000000005], [1379113200000, 3.1849999999999996], [1379199600000, 1.3679999999999999], [1379286000000, 1.8239999999999998], [1379372400000, 1.3199999999999998], [1379458800000, 1.7559999999999998], [1379545200000, 4.409999999999999], [1379631600000, 8.862], [1379718000000, 10.600000000000001], [1379804400000, 6.510000000000001], [1379890800000, 5.064], [1379977200000, 5.655000000000001], [1380063600000, 10.089], [1380150000000, 3.5], [1380236400000, 3.0], [1380322800000, 3.6959999999999997], [1380409200000, 1.0], [1380495600000, 6.281]], "key": "battery"},{"values": [[1377990000000, 0.27], [1378076400000, 0.0], [1378162800000, 0.0], [1378249200000, 0.542], [1378335600000, 0.54], [1378422000000, 0.538], [1378508400000, 0.0], [1378594800000, 0.268], [1378681200000, 0.795], [1378767600000, 67.328], [1378854000000, 19.765000000000004], [1378940400000, 2.9700000000000006], [1379026800000, 3.9130000000000007], [1379113200000, 2.99], [1379199600000, 3.7570000000000006], [1379286000000, 1.1720000000000002], [1379372400000, 3.2560000000000002], [1379458800000, 4.380000000000001], [1379545200000, 4.5600000000000005], [1379631600000, 11.893999999999998], [1379718000000, 9.93], [1379804400000, 4.416], [1379890800000, 3.8600000000000003], [1379977200000, 8.154], [1380063600000, 8.783999999999999], [1380150000000, 7.084999999999999], [1380236400000, 4.496], [1380322800000, 5.724], [1380409200000, 0.4], [1380495600000, 2.8000000000000003]], "key": "camera"},{"values": [[1377990000000, 0.42300000000000004], [1378076400000, 0.0], [1378162800000, 0.0], [1378249200000, 0.0], [1378335600000, 0.0], [1378422000000, 0.8460000000000001], [1378508400000, 0.0], [1378594800000, 0.0], [1378681200000, 0.4], [1378767600000, 1.6680000000000001], [1378854000000, 0.353], [1378940400000, 0.534], [1379026800000, 0.0], [1379113200000, 0.30800000000000005], [1379199600000, 0.0], [1379286000000, 0.0], [1379372400000, 0.15400000000000003], [1379458800000, 0.15400000000000003], [1379545200000, 0.0], [1379631600000, 0.0], [1379718000000, 0.16700000000000004], [1379804400000, 0.3640000000000001], [1379890800000, 1.1099999999999999], [1379977200000, 1.0], [1380063600000, 1.0], [1380150000000, 1.0], [1380236400000, 0.0], [1380322800000, 1.0], [1380409200000, 2.0], [1380495600000, 0.0]], "key": "charger"},{"values": [[1377990000000, 0.0], [1378076400000, 0.0], [1378162800000, 0.0], [1378249200000, 0.0], [1378335600000, 0.6900000000000001], [1378422000000, 0.262], [1378508400000, 0.125], [1378594800000, 0.252], [1378681200000, 0.0], [1378767600000, 3.456], [1378854000000, 4.9830000000000005], [1378940400000, 0.274], [1379026800000, 0.43800000000000006], [1379113200000, 0.14900000000000002], [1379199600000, 0.0], [1379286000000, 0.14900000000000002], [1379372400000, 0.15200000000000002], [1379458800000, 0.6240000000000001], [1379545200000, 0.4770000000000001], [1379631600000, 2.8620000000000005], [1379718000000, 0.78], [1379804400000, 0.8580000000000001], [1379890800000, 0.3520000000000001], [1379977200000, 0.266], [1380063600000, 0.42900000000000005], [1380150000000, 0.5460000000000002], [1380236400000, 0.0], [1380322800000, 0.16700000000000004], [1380409200000, 0.5], [1380495600000, 0.5]], "key": "colour"},{"values": [[1377990000000, 0.0], [1378076400000, 0.0], [1378162800000, 0.0], [1378249200000, 0.8640000000000001], [1378335600000, 5.184000000000001], [1378422000000, 5.172000000000001], [1378508400000, 0.43100000000000005], [1378594800000, 2.5860000000000003], [1378681200000, 3.4400000000000004], [1378767600000, 303.58000000000004], [1378854000000, 175.70800000000003], [1378940400000, 38.01199999999999], [1379026800000, 18.017000000000003], [1379113200000, 9.196000000000002], [1379199600000, 48.07000000000001], [1379286000000, 27.837999999999997], [1379372400000, 24.232], [1379458800000, 23.9], [1379545200000, 37.576], [1379631600000, 96.228], [1379718000000, 63.784000000000006], [1379804400000, 32.56], [1379890800000, 90.0], [1379977200000, 65.888], [1380063600000, 29.323], [1380150000000, 19.684], [1380236400000, 7.648], [1380322800000, 7.828], [1380409200000, 3.2], [1380495600000, 5.336]], "key": "fingerprint"},{"values": [[1377990000000, 1.3439999999999999], [1378076400000, 2.6879999999999997], [1378162800000, 0.0], [1378249200000, 1.7839999999999998], [1378335600000, 3.5759999999999996], [1378422000000, 1.3529999999999998], [1378508400000, 0.45199999999999996], [1378594800000, 1.3559999999999999], [1378681200000, 3.1639999999999997], [1378767600000, 42.74999999999999], [1378854000000, 28.304], [1378940400000, 3.0060000000000002], [1379026800000, 1.984], [1379113200000, 1.976], [1379199600000, 4.9399999999999995], [1379286000000, 5.952], [1379372400000, 13.554], [1379458800000, 70.612], [1379545200000, 64.638], [1379631600000, 40.589999999999996], [1379718000000, 31.558], [1379804400000, 20.720000000000002], [1379890800000, 10.620000000000001], [1379977200000, 13.482000000000001], [1380063600000, 12.369], [1380150000000, 10.455000000000002], [1380236400000, 2.25], [1380322800000, 11.375], [1380409200000, 6.0], [1380495600000, 6.0]], "key": "ios7"},{"values": [[1377990000000, 0.0], [1378076400000, 0.42100000000000004], [1378162800000, 0.0], [1378249200000, 0.0], [1378335600000, 0.0], [1378422000000, 1.6840000000000002], [1378508400000, 0.0], [1378594800000, 0.0], [1378681200000, 0.0], [1378767600000, 20.85], [1378854000000, 14.245000000000001], [1378940400000, 1.197], [1379026800000, 0.0], [1379113200000, 0.808], [1379199600000, 0.804], [1379286000000, 1.182], [1379372400000, 1.96], [1379458800000, 5.031000000000001], [1379545200000, 4.836], [1379631600000, 16.515], [1379718000000, 5.965999999999999], [1379804400000, 2.9700000000000006], [1379890800000, 4.088000000000001], [1379977200000, 4.658], [1380063600000, 8.844000000000001], [1380150000000, 4.219999999999999], [1380236400000, 1.3680000000000003], [1380322800000, 1.7759999999999998], [1380409200000, 0.4259999999999997], [1380495600000, 4.998000000000005]], "key": "screen"},{"values": [[1377990000000, 0.0], [1378076400000, 0.0], [1378162800000, 0.0], [1378249200000, 0.0], [1378335600000, 0.0], [1378422000000, 0.0], [1378508400000, 0.0], [1378594800000, 0.0], [1378681200000, 0.0], [1378767600000, 0.0], [1378854000000, 0.0], [1378940400000, 0.0], [1379026800000, 0.667], [1379113200000, 0.0], [1379199600000, 0.6], [1379286000000, 0.0], [1379372400000, 0.6], [1379458800000, 0.0], [1379545200000, 0.6], [1379631600000, 0.0], [1379718000000, 1.7999999999999998], [1379804400000, 0.0], [1379890800000, 0.0], [1379977200000, 0.75], [1380063600000, 0.0], [1380150000000, 0.0], [1380236400000, 0.0], [1380322800000, 0.0], [1380409200000, 0.0], [1380495600000, 1.0]], "key": "signal"},{"values": [[1377990000000, 0.0], [1378076400000, 0.0], [1378162800000, 0.0], [1378249200000, 0.0], [1378335600000, 0.0], [1378422000000, 0.0], [1378508400000, 0.0], [1378594800000, 0.0], [1378681200000, 0.714], [1378767600000, 0.0], [1378854000000, 0.714], [1378940400000, 0.0], [1379026800000, 0.0], [1379113200000, 0.0], [1379199600000, 0.0], [1379286000000, 0.0], [1379372400000, 0.0], [1379458800000, 0.714], [1379545200000, 0.6659999999999999], [1380495600000, 0.0]], "key": "speaker"},];

//an example of harmonizing colors between visualizations
//observe that Consumer Discretionary and Consumer Staples have
//been flipped in the second chart
var colors = d3.scale.category20();
var keyColor = function(d, i) {return colors(d.key)};

function defaultChartConfig(container, data, useGuideline) {
  if (useGuideline === undefined) useGuideline = true;
  nv.addGraph(function() {
    var chart;
    chart = nv.models.stackedAreaChart()
                  .useInteractiveGuideline(useGuideline)
                  .x(function(d) { return d[0] })
                  .y(function(d) { return d[1] })
                  .color(keyColor)
                  .margin({right:90})
                  .rightAlignYAxis(true)
                    ;

    chart.xAxis
        .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

    chart.yAxis
        .tickFormat(d3.format(',f'));

    d3.select('#' + container + ' svg')
          .datum(data)
        .transition().duration(500).call(chart);
        

    nv.utils.windowResize(chart.update);

    return chart;
  });
};

//Chart with old tooltip format.
nv.addGraph(function() {
  var chart = nv.models.stackedAreaChart()
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .showControls(false)
                .color(keyColor)
                .margin({right:90})
                .rightAlignYAxis(true)
                ;

  chart.xAxis
      .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

  chart.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart2 svg')
    .datum(histcatexplong)
      .call(chart);

  nv.utils.windowResize(chart.update);

  return chart;
});

defaultChartConfig("chart1", histcatexplong);

</script>
